# Vision Benchmark Frontend (React Version)

This project provides a web-based frontend, built with React and Vite, to display and compare pre-generated benchmark results for computer vision algorithms. The backend is powered by Flask.

## Project Purpose

The main goal of this application is to offer a clear, filterable, and sortable view of benchmark data that has been generated by other tools or processes. This allows for easy comparison of algorithm performance across different datasets and metrics.

## Project Structure

- \`app.py\`: The main Flask application file. It serves the built React frontend and provides an API endpoint for benchmark data.
- \`data/\`: Directory containing benchmark data files in JSON format.
  - \`*.json\`: Each JSON file should contain a list of benchmark records.
- \`frontend/\`: Directory containing the React frontend application.
  - \`public/\`: Public assets for Vite.
  - \`src/\`: React source files.
    - \`components/\`: React components.
    - \`App.jsx\`: Main React application component.
    - \`main.jsx\`: React entry point.
    - \`style.css\`: CSS styles for the application.
  - \`index.html\`: HTML entry point for Vite.
  - \`package.json\`: Frontend dependencies and scripts.
  - \`vite.config.js\`: Vite configuration.
- \`static/\`: (This directory is no longer used for primary CSS/JS as of the React conversion; frontend assets are in \`frontend/dist\` after build).
- \`templates/\`: (This directory is no longer used for the main \`index.html\` as of the React conversion; Vite uses \`frontend/index.html\`).
- \`requirements.txt\`: Python backend dependencies.
- \`DATA_FORMAT.md\`: Document describing the expected JSON format for benchmark data files.
- \`tests/\`: Contains unit tests for the backend.
- \`.gitignore\`: Specifies intentionally untracked files that Git should ignore.

## Prerequisites

- Python 3.x
- Node.js and npm (or yarn)

## Setup and Installation

1.  **Clone the repository (if applicable)**
    ```bash
    # git clone <repository_url>
    # cd <repository_directory>
    ```

2.  **Backend Setup (Python - Flask)**:
    *   Create a virtual environment (recommended):
        ```bash
        # python -m venv venv
        # source venv/bin/activate  # On Windows use \`venv\Scripts\activate\`
        ```
    *   Install Python dependencies:
        ```bash
        pip install -r requirements.txt
        ```

3.  **Frontend Setup (React - Vite)**:
    *   Navigate to the frontend directory:
        ```bash
        cd frontend
        ```
    *   Install Node.js dependencies:
        ```bash
        npm install
        # OR if you prefer yarn:
        # yarn install
        ```
    *   Navigate back to the project root:
        ```bash
        cd ..
        ```

## Running the Application

There are two main ways to run the application:

**1. Development Mode (Recommended for frontend changes):**
   This involves running the Flask backend (for the API) and the Vite development server (for the React frontend) separately.

   *   **Start the Flask Backend API**:
      Open a terminal in the project root.
      ```bash
      # export FLASK_APP=app.py # Or set FLASK_APP=app (if app.py contains app = Flask(...))
      # export FLASK_ENV=development
      # flask run --port 5000 # Or your preferred port
      ```
      The API will be available at \`http://localhost:5000/api/benchmarks\`.

   *   **Start the Vite Frontend Development Server**:
      Open a *new* terminal and navigate to the \`frontend/\` directory.
      ```bash
      # cd frontend
      # npm run dev
      # OR if using yarn:
      # yarn dev
      ```
      The React frontend will typically be available at \`http://localhost:5173\` (Vite will show the URL). It will make API calls to the Flask backend running on port 5000 (CORS is configured for this).

**2. Production-like Mode (Serving built frontend with Flask):**
   This mode simulates how the application would run in production, where Flask serves the static files generated by the React build process.

   *   **Build the React Frontend**:
      Navigate to the \`frontend/\` directory.
      ```bash
      # cd frontend
      # npm run build
      # OR if using yarn:
      # yarn build
      ```
      This will create a \`dist/\` folder inside \`frontend/\` containing the optimized static assets.
      Navigate back to the project root:
      ```bash
      # cd ..
      ```

   *   **Run the Flask Application**:
      In a terminal in the project root.
      ```bash
      # export FLASK_APP=app.py
      # FLASK_ENV can be 'production' or 'development' (if 'development', debug messages show)
      # export FLASK_ENV=production
      # flask run --port 5000 # Or your chosen port
      ```
      Now, Flask will serve the built React application from \`frontend/dist/\`. Open your browser and navigate to \`http://localhost:5000/\`.

## Adding New Benchmark Data

1.  **Prepare your data**:
    Ensure your benchmark results are in JSON format and adhere to the structure specified in \`DATA_FORMAT.md\`. Each file should contain a list of benchmark records.

2.  **Add the file**:
    Place your new JSON file(s) into the root \`data/\` directory.

The application will automatically load any \`*.json\` files from the \`data/\` directory when the API is called.

## Default Mock Data

The application includes a default set of mock benchmark data stored in \`data/default_mock_data.json\`. This data is served by the API if no other user-provided \`.json\` files are found in the \`data/\` directory.

This feature allows you to:
-   See the application's functionality immediately after setup.
-   Have a baseline dataset for testing or demonstration if you haven't added your own data yet.

You can customize this default dataset by modifying or replacing the \`data/default_mock_data.json\` file with your own records, ensuring they adhere to the structure specified in \`DATA_FORMAT.md\`. If you add other \`.json\` files to the \`data/\` directory, those files will be loaded and served instead of \`default_mock_data.json\`.

## Data Format

Refer to \`DATA_FORMAT.md\` for a detailed description of the expected JSON structure for benchmark data files. The React frontend is configured to display key metrics from this format. If you add entirely new metric *types* (beyond what's in \`DATA_FORMAT.md\`), you may need to update the \`columnConfig\` in \`frontend/src/components/BenchmarkTable.jsx\` to ensure they are displayed.